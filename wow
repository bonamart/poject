const schedulerElement = $("#scheduler");
if (schedulerElement.length) {
    const scheduler = schedulerElement.dxScheduler("instance");
    if (scheduler) {
        scheduler.getDataSource().reload().done(() => scheduler.repaint());
    } else {
        console.error("Scheduler instance is undefined.");
    }
} else {
    console.error("Scheduler element not found.");
}

deleteButton.addEventListener("click", async function(event) {
    event.stopPropagation();
    
    if (!confirm("Are you sure you want to delete this booking?")) return;

    try {
        const response = await sendRequest(apiurl + "/" + modname + "/" + booking.id, "DELETE");

        if (response.status === "success") {
            alert("Booking deleted successfully!");
            const schedulerElement = $("#scheduler");
            if (schedulerElement.length) {
                const scheduler = schedulerElement.dxScheduler("instance");
                if (scheduler) {
                    await scheduler.getDataSource().reload();
                    scheduler.repaint();
                }
            }
        } else {
            alert("Error: " + (response.message || "Failed to delete booking."));
        }
    } catch (error) {
        alert("Error: " + (error.responseText || "Unknown error."));
    }
});


setTimeout(() => {
    const deleteButton = document.getElementById(deleteButtonId);
    if (deleteButton) {
        deleteButton.addEventListener("click", function(event) {
            // Proses delete
        });
    } else {
        console.warn("Delete button not found.");
    }
}, 100);
