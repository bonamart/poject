$(function() {
    let uniqueLocations = ["Office 1", "Office 2", "Office 3"];
    let uniqueRooms = ["Room A", "Room B", "Room C"];

    // Buat container box secara dinamis
    let $container = $("<div>").attr("id", "layout-container").appendTo("body");

    // Inisialisasi dxBox untuk mengatur tata letak sejajar
    $container.dxBox({
        direction: "row",
        align: "center", // Agar elemen sejajar di tengah
        crossAlign: "center",
        width: "100%",
        items: [
            {
                ratio: 1,
                html: '<div id="location-selector"></div>'
            },
            {
                ratio: 1,
                html: '<div id="room-selector"></div>'
            },
            {
                ratio: 0.5,
                html: '<div id="help-button"></div>'
            },
            {
                ratio: 0.5,
                html: '<div id="refresh-button"></div>'
            }
        ]
    });

    // Inisialisasi Location Selector
    $("#location-selector").dxSelectBox({
        dataSource: uniqueLocations,
        displayExpr: item => item || "",
        valueExpr: item => item,
        value: uniqueLocations[0],
        onValueChanged: function(e) {
            updateRoomSelector(e.value);
        }
    });

    // Inisialisasi Room Selector
    $("#room-selector").dxSelectBox({
        dataSource: uniqueRooms,
        displayExpr: item => item || "",
        valueExpr: item => item,
        value: uniqueRooms[0]
    });

    // Inisialisasi Help Button
    $("#help-button").dxButton({
        text: "Help",
        icon: "help",
        onClick() {
            DevExpress.ui.notify("Help button clicked");
        }
    });

    // Inisialisasi Refresh Button
    $("#refresh-button").dxButton({
        text: "Refresh",
        icon: "refresh",
        onClick() {
            DevExpress.ui.notify("Refresh button clicked");
        }
    });

    // Fungsi untuk update Room Selector
    function updateRoomSelector(location) {
        console.log("Selected Location:", location);
        DevExpress.ui.notify(`Location changed to ${location}`);
    }
});
