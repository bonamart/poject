function validateBooking() {
    let guestCount = (form.getEditor("guest")?.option("value") || []).length;
    let familyCount = (form.getEditor("family")?.option("value") || []).length;
    let employeeCount = (form.getEditor("employee")?.option("value") || []).length;
    let totalGuests = guestCount + familyCount + employeeCount;
    console.log("total guest", totalGuests);
    let selectedRoom = form.getEditor("ghm_room_id")?.option("value");
    let roomCapacity = roomsWithLocations.find(room => room.id === selectedRoom)?.roomAccupancy || 0;
    console.log("total Kaps", roomCapacity);        
    let doneButton = $(".dx-popup-bottom .dx-button.dx-popup-done");
    if (totalGuests > roomCapacity) {
        DevExpress.ui.notify("Jumlah tamu melebihi kapasitas kamar!", "error", 2000);
    }
}

// Tambahkan validasi sebelum form disubmit
form.option("onValidated", function(e) {
    let guestCount = (form.getEditor("guest")?.option("value") || []).length;
    let familyCount = (form.getEditor("family")?.option("value") || []).length;
    let employeeCount = (form.getEditor("employee")?.option("value") || []).length;
    let totalGuests = guestCount + familyCount + employeeCount;

    if (totalGuests < 1) {
        e.isValid = false; // Mencegah submit
        DevExpress.ui.notify("Total guests harus lebih dari 0!", "error", 2000);
    }
});

form.option('items', [ 
    // Form items tetap seperti sebelumnya
]);
